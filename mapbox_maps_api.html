<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mapbox Maps API</title>

    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.2.1/mapbox-gl.css' rel='stylesheet' />

</head>
<body>
    <div id='map' style='width: 500px; height: 800px;'></div>

    <h4>Zoom in/out</h4>
    <form>
        <select>
            <option onchange="zoomInOut(5)" id="5" value="5">5</option>
            <option onchange="zoomInOut(10)" id="10" value="10">10</option>
            <option onchange="zoomInOut(15)" id="15" value="15">15</option>
        </select>
    </form>

    <script src="js/keys.js"></script>
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.2.1/mapbox-gl.js'></script>
    <script src="js/mapbox-utils.js"></script>

    <script>
        mapboxgl.accessToken = mapboxToken;
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v9',
            zoom: 9,
            center: [-98.4936, 29.4241]
        });

        var restaurants = [
            {
                name: "El Sabor De Sanchez",
                type: "Colombian",
                coordinates: [-98.661885, 29.511448],
                why: "Feels " +
                    "" +
                    "like I'm back in Colombia",
                dish: "The Tamales are tamalazing",
                img: "img/laptop.jpeg"
            },
            {
                name: "Chik-Fil-A",
                type: "Fast-good food",
                coordinates: [-98.702142, 29.435271],
                why: 'Better than McDonalds',
                dish: 'Chicken wrap is where it\'s at',
                img: "img/laptop.jpeg"
            },
            {
                name: "Olive Garden",
                type: "Okay Italian, Go for the breadsticks",
                coordinates: [-98.708344, 29.489434],
                why: 'Bottomless breadsticks, bottomless salad',
                dish: 'Bottomless breadsticks, bottomless salad',
                img: "img/laptop.jpeg"
            }
        ];

        onchange = function zoomInOut() {
            map.setZoom(20);
        }

        // zoomInOut(15);

        function setMarker(array) {
            var marker = new mapboxgl.Marker()
                .setLngLat(array.coordinates)
                .addTo(map);
            var popup = new mapboxgl.Popup()
                .setHTML('<h1>' + array.name + '</h1><br>' +
                        '<p>' + 'Type: ' + array.type + '</p><br>' +
                        '<p>' + 'Why it\'s amazing: ' + array.why + '</p><br>' +
                        '<p>' + 'Best dish: ' + array.dish + '</p><br>' + array.img


                )
            marker.setPopup(popup);

        }

        // setMarker(restaurants);


        // geocode("5439 W Loop 1604 N, San Antonio, TX 78253", mapboxToken).then(function(result) {
        //    console.log(result);
        //
        // });

        restaurants.forEach(function(restaurant) {
           setMarker(restaurant);
        });








    </script>

</body>
</html>